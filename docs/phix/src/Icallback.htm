<head>
 <body>
  <toc>
   <these>
    <get>
     <stripped>
      <h1 class="title">Icallback</h1>
      <div id="mainSection">
       <table>
        <col style="width: 5%"/>
        <tr>
         <td valign=top>
          <b>Syntax:</b>
         </td>
         <td>
          <font face = "Arial, Helvetica">
            include pGUI.e
            <br>
            <br>
            atom res = Icallback(<i>"routine"</i>)
          </font>
         </td>
        </tr>
        <tr>
         <td valign=top>
          <b>Description:</b>
         </td>
         <td>Utility function. Shorthand for call_back(routine_id(<i>"routine"</i>)), but also validated as below.
         </td>
        </tr>
        <tr>
         <td valign=top>
          <b>Comments:</b>
         </td>
         <td>
            The routine name must be in scope, a literal string, and already defined at the point of use.
            <br>
            <br>
            pGUI records a list of all callbacks generated via Icallback and validates all attempts to set callbacks against that list,
            since attempts to invoke something which is not a valid callback will always produce an indecipherable error message (or
            worse quietly terminate for no apparent reason), at least that is when said call is actually somewhere deep inside one of 
            the linked IUP dynamic libraries (which are written in C).
            <br>
            <br>
            The type cbfunc is used to validate an atom address is the result of a previous call to Icallback.
            <br>
            <br>
            When translating C code to Phix, a common requirement is to replace <code>(Icallback)xxx_cb</code> with <code>Icallback("xxx_cb")</code>.
         </td>
        </tr>
        <tr>
         <td valign=top>
          <b>Example:</b>
         </td>
         <td>
<!--eucode>
include pGUI.e

function quit_cb()
  return IUP_CLOSE;
end function

Ihandle quit_bt = IupButton("Quit", Icallback("quit_cb"))
</eucode-->
<pre>
<font color="#000000"></font><font color="#008080">include</font><font color="#000000"> pGUI.e

</font><font color="#008080">function</font><font color="#000000"> quit_cb</font><font color="#0000FF">()
</font><font color="#008080">  return</font><font color="#004600"> IUP_CLOSE</font><font color="#0000FF">;
</font><font color="#008080">end function

</font><font color="#5E005E">Ihandle</font><font color="#000000"> quit_bt</font><font color="#0000FF"> =</font><font color="#5E005E"> IupButton</font><font color="#0000FF">(</font><font color="#008000">"Quit"</font><font color="#0000FF">,</font><font color="#5E005E"> Icallback</font><font color="#800000">(</font><font color="#008000">"quit_cb"</font><font color="#800000">)</font><font color="#0000FF">)</font>
</pre>
         </td>
        </tr>
        <tr>
         <td valign=top>
          <b>See Also:</b>
         </td>
         <td>
          <a href="Ihandle.htm">Ihandle</a>,
          <a href="IupButton.htm">IupButton</a>
         </td>
        </tr>
       </table>
       <br>
       <br>
      </div>
     </stripped>
    </get>
   </these>
  </toc>
 </body>
</head>
