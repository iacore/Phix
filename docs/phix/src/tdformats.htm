<head>
 <body>
  <toc>
   <these>
    <get>
     <stripped>
      <h1 class="title">format strings</h1>
      <div id="mainSection">
        Date and time format elements for parsing/printing are defined by the following groups of characters.<br>
        As a general rule, they typically follow the implicit case pattern of "YYYY/MM/DD hh:mm:ss". <br>
        Not very strictly followed, however numeric forms of Months/minutes are specified by case.<br>
        A simple rule to remember is "The Month of May <i>may</i> be Capitalized, minutes never are".
       <br>
       <br>

       <table>
        <col style="width: 5%"/>
        <tr>
         <td><b>element</b></td>
         <td><b>aliases</b></td>
         <td><b>description</b></td>
        </tr>
        <tr><td>D</td>      <td>d</td>          <td>One- or two-digit day.</td></tr>
        <tr><td>DD</td>     <td>dd</td>         <td>Two-digit day. Single-digit day values are preceded by a zero.</td></tr>
        <tr><td>th</td>     <td>st/TH/ST</td>   <td>Two-character ordinal suffix. (lower/uppercase)  Must immediately follow d/D/dd/DD.</td></tr>
        <tr><td>Ddd</td>    <td>DDD/ddd</td>    <td>Three-character weekday abbreviation.  (capitalised/uppercase/lowercase)</td></tr>
        <tr><td>Dddd</td>   <td>DDDD/dddd</td>  <td>Full weekday name.  (capitalised/uppercase/lowercase)</td></tr>
        <tr><td>doy</td>    <td></td>           <td>Day of year (1..366).</td></tr>
        <tr><td>h</td>      <td>H</td>          <td>One- or two-digit hour.                                    (See am/pm notes below.)</td></tr>
        <tr><td>hh</td>     <td>HH</td>         <td>Two-digit hour. Single-digit values are preceded by a zero. ("")</td></tr>
        <tr><td>m</td>      <td>mm</td>         <td>Two-digit minute. Single-digit values are preceded by a zero.        (<b>NB not M/MM</b>)</td></tr>
        <tr><td>s</td>      <td>ss/S/SS</td>    <td>Two-digit second. Single-digit values are preceded by a zero.</td></tr>
        <tr><td>ms</td>     <td></td>           <td>Three-digit millisecond, 000 to 999.</td></tr>
        <tr><td>pm</td>     <td>am/PM/AM</td>   <td>Two-letter am/pm abbreviation, prior hour must exist. (lower/uppercase)</td></tr>
        <tr><td>M</td>      <td></td>           <td>One- or two-digit month number.                                      (<b>NB not m</b>)</td></tr>
        <tr><td>MM</td>     <td></td>           <td>Two-digit month number. Single-digit values are preceded by a zero.  (<b>NB not mm</b>)</td></tr>
        <tr><td>Mmm</td>    <td>MMM/mmm</td>    <td>Three-character month abbreviation. (capitalised/uppercase/lowercase)</td></tr>
        <tr><td>Mmmm</td>   <td>MMMM/mmmm</td>  <td>Full month name.  (capitalised/uppercase/lowercase)</td></tr>
        <tr><td>Y</td>      <td>y/YY/yy</td>    <td>One- or two-digit year.</td></tr>
        <tr><td>YYYY</td>   <td>yyyy</td>       <td>Four-digit year.</td></tr>
        <tr><td>TZ</td>     <td>tz</td>         <td>Three- or four-character uppercase time zone (always uppercase, eg "GMT")</td></tr>
        <tr><td>Tzz</td>    <td>TZZ/tzz</td>    <td>Full time zone name. (always as-is/capitalised, eg "Greenwich Mean Time")</td></tr>
        <tr>
         <td>Examples</td>
         <td></td>
         <td>
<!--eucode>
"YYYY/MM/DD ham tz"                         "Ddd, Mmm dst, yyyy"
"YYYY/MM/DD ham"                            "Ddd, Mmm dth, yyyy"
"DD Mmm YY"             "hh:mm"             "DDD, Mmm dST, yyyy"
"M/D/YY"                "hh:mmpm"           "Ddd, MMM DTH, yyyy"
"D/M/Y"                 "hh:mm tz"          "Ddd, Mmm dth, YYYY, h:mmpm tz"
"M/D/Y"                 "hpm tz"            "Ddd, Mmm dth, YYYY, h:mmpm"
"M/D/YYY"               "hpm"               "Dddd, Mmmm dth, YYYY, h:mmpm"
"MM/DD/YY"              "h:m:s am"          "Dddd, Mmmm dd, yyyy"
"M/DD/YY"               "h:m:sam"           "Dddd, Mmmm d, YYYY"
"M/DD/YYYY"             " (tzz)"            "Dddd d Mmmm yyyy h:mmpm tz"
"YYYY-MM-DD"                                "Mmmm d, yyyy, hh:mm:ss"
"D/M/YYYY hpm TZ"                           "Mmmm dth yyyy h:mmam tz"
"D/M/YYYY hpm (Tzz)"                        "Mmmm dth yyyy h:mmam"
"dd-Mmm-YY"                                 "Mmmm d yyyy h:mmpm tz"
"'Today is' Dddd, Mmmm dth, YYYY" -- (put literals in single quotes)
"'Today''''s date is' Dddd, Mmmm dth, YYYY"
</eucode-->
<pre>
<font color="#008000">"YYYY/MM/DD ham tz"                         "Ddd, Mmm dst, yyyy"
"YYYY/MM/DD ham"                            "Ddd, Mmm dth, yyyy"
"DD Mmm YY"             "hh:mm"             "DDD, Mmm dST, yyyy"
"M/D/YY"                "hh:mmpm"           "Ddd, MMM DTH, yyyy"
"D/M/Y"                 "hh:mm tz"          "Ddd, Mmm dth, YYYY, h:mmpm tz"
"M/D/Y"                 "hpm tz"            "Ddd, Mmm dth, YYYY, h:mmpm"
"M/D/YYY"               "hpm"               "Dddd, Mmmm dth, YYYY, h:mmpm"
"MM/DD/YY"              "h:m:s am"          "Dddd, Mmmm dd, yyyy"
"M/DD/YY"               "h:m:sam"           "Dddd, Mmmm d, YYYY"
"M/DD/YYYY"             " (tzz)"            "Dddd d Mmmm yyyy h:mmpm tz"
"YYYY-MM-DD"                                "Mmmm d, yyyy, hh:mm:ss"
"D/M/YYYY hpm TZ"                           "Mmmm dth yyyy h:mmam tz"
"D/M/YYYY hpm (Tzz)"                        "Mmmm dth yyyy h:mmam"
"dd-Mmm-YY"                                 "Mmmm d yyyy h:mmpm tz"
"&rsquo;Today is&rsquo; Dddd, Mmmm dth, YYYY"</font><font color="#000080"><i> -- (put literals in single quotes)</i></font>
<font color="#008000">"&rsquo;Today&rsquo;&rsquo;&rsquo;&rsquo;s date is&rsquo; Dddd, Mmmm dth, YYYY"</font>
</pre>
         </td>
        </tr>
        <tr>
         <td><b>WRONG</b></td>
         <td></td>
         <td>
<!--eucode>
"dd/mm/yyyy"    -- would be day/minute/year!!
"HH:MM"         -- would be hour/month!!
</eucode-->
<pre>
<font color="#008000">"dd/mm/yyyy"   </font><font color="#000080"><i> -- would be day/minute/year!!</i></font>
<font color="#008000">"HH:MM"        </font><font color="#000080"><i> -- would be hour/month!!</i></font>
</pre>
            <br>
            An error (3 element sequence) is returned if minute immediately follows day or year, or if month immediately follows hour or precedes second or ampm.<br>
            (But not if minute immedately precedes year or day, since "1:50 [2016] 2nd Jan" is fine, and month immediately preceding hour or day is fine.)
         </td>
        </tr>
        <tr id="Technicalia" style="display:none;">
         <td>
          <a href="glossary.htm#technicalia">
           <b>Technicalia</b>
          </a>
         </td>
         <td></td>
         <td>
            Special attention is required to avoid confusing m/mm (minute) and M/MM (month).
            <br>
            Spaces and punctuation (other than single quotes) in a format are treated as literals.
            <br>
            Any required literal alphanumerics must be enclosed in single quotes, with two adjacent
            single quotes treated as one single quote, eg "'Today''''s date is 'DD/MM/YYYY.", which
            yields/parses eg "Today's date is 14/09/2015."
            <br>
            Feel free to print fragments, eg "dst", "Mmmm", "tz", and post-process/stitch together.
            <br>
            At the moment ordinals (1st/2nd/3rd/4th/etc) are only supported in/for english.
            <br>
            There&rsquo;s a commented-out set_timedate_lang() and google translates for seven other
            languages besides English, all untested and awaiting approval by someone who speaks it.
            <br>
            Minutes and seconds &lt;10 cannot be printed without a leading 0, but month/day/hours can.
            <br>
            Two digit years use a -80..+20 rule, eg in 2017, 36 -&gt; 2036 but 37 -&gt; 1937.
            <br>
            lowercase/uppercase actually match any case input, whereas capitalised is more strict;
                it is really for output that all those different distinctions are available anyway.
            <br>
            Obviously uppercase/lowercase format specifiers make no difference on numeric fields.
            <br>
            A timezone is always parsed and printed in uppercase. Tzz/TZZ/tzz as-is, see tzdesc.
            <br>
            When am/pm is parsed/printed, it adjusts a previous hour (error if none) appropriately.
            There is no way to print a 12-hour time without also printing an am/pm indicator.
            <br>
            The times "12:15am" and "2:15pm" are internally stored as {0,15} and {14,15} respectively,
            and reconstituted exactly as they were, as long as you use the same format string.
            <br>
            Some languages, eg de, use a two-character weekday abbreviation - but the format string 
            used to obtain said is still three characters long (ddd/Ddd/DDD).
            <br>
            Great care has been taken to avoid any potential ambiguity, the only potential mishap
            is "stz" which opts for "st" (aka "th") which will probably error out because it
            does not immediately follow a d, and if it was "dstz" then it would error on the 
            "z" anyway. Should you really want seconds hard pressed against a timezone with 
            no separating space, use "sstz" instead, or stitch fragments together.<br>
            Update: I added "ms" somewhat hastily: previously it would have printed minutes hard
            pressed against seconds, which would now require "mmss" (or just "mms").
            <br>
            A key idea is that the same format strings can be used for parse and output, so rather
            than have any fiddly "optional" bits, just use a collection of acceptable formats (and
            if you need more than say eight, it may be time to think of an alternative strategy).
            <br>
            <br>
            When translating the frankly rather bizzare specifiers of Euphoria&rsquo;s datetime:format(),
            which has been renamed as dateformat(), I recommend the following Phix equivalents 
            (following YYYYMMDD hh:mm:ss case rules).
            <br>
            <div class="parent">
              <div class="child">
                %a ==> Ddd
              </div>
              <div class="child">
                %A ==> Dddd
              </div>
              <div class="child">
                %b ==> Mnn
              </div>
              <div class="child">
                %B ==> Mmmm
              </div>
              <div class="child">
                %C ==> YY
              </div>
              <div class="child">
                %d ==> DD
              </div>
              <div class="child">
                %H ==> hh
              </div>
              <div class="child">
                %I ==> hh<small><sup><small>1</small></sup></small>
              </div>
              <div class="child">
                %j ==> doy
              </div>
              <div class="child">
                %k ==> h
              </div>
              <div class="child">
                %l ==> h<small><sup><small>1</small></sup></small>
              </div>
              <div class="child">
                %m ==> MM
              </div>
              <div class="child">
                %M ==> mm
              </div>
              <div class="child">
                %p ==> PM
              </div>
              <div class="child">
                %P ==> pm
              </div>
              <div class="child">
                %S ==> ss
              </div>
              <div class="child">
                %y ==> YY
              </div>
              <div class="child">
                %Y ==> YYYY
              </div>
            </div>
            <div style="clear:both;height:1px;"> </div>
            <br>
            <small><sup><small>1</small></sup></small> ie %(uppercase i or lowercase L) needs to be followed by am/pm/AM/PM (that is, to get the 12-hour format)<br>
            %u is 1..7 for Monday..Sunday, not directly supported here but see <a href="day_of_week.htm">day_of_week</a>()<br>
            %w is 0..6 for Sunday..Saturday, ... (words fail me)<br>
            %s is seconds since 0:00:00am 1/1/1970, erm, ditto... (besides, if you need a nonce, it should be at least 
            to milliseconds accuracy)<br>
            For those in need, a link to the original: <a href="javascript:ExternalLink('exti01');" id="exti01" 
            style="color#9B5565">https://openeuphoria.org/docs/std_datetime.html#_1174_format</a>
            <br>
            The default format of dateformat(), "%Y-%m-%d %H:%M:%S", is equivalent to "YYYY-MM-DD hh:mm:ss", whereas
            <a href="format_timedate.htm">format_timedate</a>() has a default of "h:mpm Dddd Mmmm ddth, yyyy".
            <br>
         </td>
        </tr>
       </table>
       <img src="images/sprites/tech.open.png" title="Expand/Shrink" alt="Expand/Shrink" style="display:block;clear:both;" onload="setStartT(this);" onclick="changeImageT(this);" />
      </div>
     </stripped>
    </get>
   </these>
  </toc>
 </body>
</head>
