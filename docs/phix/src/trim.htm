<head>
 <body>
  <toc>
   <these>
    <get>
     <stripped>
      <h1 class="title">trim</h1>
      <div id="mainSection">
       <table>
        <col style="width: 5%"/>
        <tr>
         <td>
          <b>Definition:</b>
         </td>
         <td>
            <a href="object.htm">object</a> res = trim(<a href="object.htm">object</a> source, <a href="object.htm">object</a> what=" \t\r\n", <a href="integer.htm">integer</a> ret_index=0)
            <br>
            <i>or ...</i>
            <br>
            <a href="object.htm">object</a> res = trim_head(<a href="object.htm">object</a> source, <a href="object.htm">object</a> what=" \t\r\n", <a href="integer.htm">integer</a> ret_index=0)
            <br>
            <i>-- or --</i>
            <br>
            <a href="object.htm">object</a> res = trim_tail(<a href="object.htm">object</a> source, <a href="object.htm">object</a> what=" \t\r\n", <a href="integer.htm">integer</a> ret_index=0)
         </td>
        </tr>
        <tr>
         <td>
          <b>Description:</b>
         </td>
         <td>
            Trim whitespace from strings.
            <br>
            <br>
            source: object (string) to be trimmed.<br>
            what: elements (characters) to be removed.<br>
            ret_index: if non-zero, return {startpos,endpos} (trim), startpos (trim_head), or endpos (trim_tail) respectively.
         </td>
        </tr>
        <tr>
         <td>
          <b>Comments:</b>
         </td>
         <td>
            Can theoretically be used for other purposes besides trimming whitespace, perhaps to trim unused entries from a table.
            <br>
            <br>
            When ret_index is non-zero, the result is {startpos,endpos} (trim), startpos (trim_head), or endpos (trim_tail).
            <br>
            <br>
            To simplify processing, if source is not a <a href="sequence.htm">sequence</a>/<a href="string.htm">string</a>, but instead 
            something like EOF (ie -1), it is returned unaltered.<br>
            Note however that feature is certainly <i>not</i> intended for use when working with indexes (ret_index!=0), since treating
            a -1 (or whatever) result as an index would probably be quite wrong! Instead it is usually easier to test whether the source 
            is a sequence and avoid the call, rather than struggle to interpret the result correctly (that is, when ret_index is non-zero).
         </td>
        </tr>
        <tr>
         <td>
          <b>Example:</b>
         </td>
         <td>
<!--eucode>
?trim(" abc ")          -- prints "abc"
?trim(`"abc"`)          -- prints `"abc"`
?trim(`"abc"`,'\"')     -- prints "abc" (not ""abc"" nor `"abc"`)
?trim(table,{{}})       -- removes s[i]={} entries from start and end (note the extra {})
?trim(table,{{},0})     -- removes s[i]={} or 0 ""
?trim(gets(fn))         -- trim returns eof (-1) unaltered.
</eucode-->
<pre>
<font color="#0000FF">?</font><font color="#5E005E">trim</font><font color="#0000FF">(</font><font color="#008000">" abc "</font><font color="#0000FF">)         </font><font color="#000080"><i> -- prints "abc"</i></font>
<font color="#0000FF">?</font><font color="#5E005E">trim</font><font color="#0000FF">(</font><font color="#008000">`"abc"`</font><font color="#0000FF">)         </font><font color="#000080"><i> -- prints `"abc"`</i></font>
<font color="#0000FF">?</font><font color="#5E005E">trim</font><font color="#0000FF">(</font><font color="#008000">`"abc"`</font><font color="#0000FF">,</font><font color="#008000">'\"'</font><font color="#0000FF">)    </font><font color="#000080"><i> -- prints "abc" (not ""abc"" nor `"abc"`)</i></font>
<font color="#0000FF">?</font><font color="#5E005E">trim</font><font color="#0000FF">(</font><font color="#000000">table</font><font color="#0000FF">,</font><font color="#800000">{</font><font color="#800080">{}</font><font color="#800000">}</font><font color="#0000FF">)      </font><font color="#000080"><i> -- removes s[i]={} entries from start and end (note the extra {})</i></font>
<font color="#0000FF">?</font><font color="#5E005E">trim</font><font color="#0000FF">(</font><font color="#000000">table</font><font color="#0000FF">,</font><font color="#800000">{</font><font color="#800080">{}</font><font color="#0000FF">,</font><font color="#000000">0</font><font color="#800000">}</font><font color="#0000FF">)    </font><font color="#000080"><i> -- removes s[i]={} or 0 ""</i></font>
<font color="#0000FF">?</font><font color="#5E005E">trim</font><font color="#0000FF">(</font><font color="#7060A8">gets</font><font color="#800000">(</font><font color="#000000">fn</font><font color="#800000">)</font><font color="#0000FF">)        </font><font color="#000080"><i> -- trim returns eof (-1) unaltered.</i></font>
</pre>
            <a name=aux></a>
         </td>
        </tr>
        <tr>
         <td>
          <b>Ancilliary function:</b>
         </td>
         <td>
            string res = <b>shorten</b>(sequence s, string what="digits", integer ml=20)
            <br>
            <br>
            Crops longer output, eg shorten(repeat('1',9999)) returns "1111111111111111111...1111111111111111111 (9,999 digits)". <br>
            The original text is returned unaltered if it is already shorter than 2*ml, or if it would be longer with "..." and the suffix.<br>
            Obviously you might want to replace "digits" with "chars"/"elements"/etc, and keep more/less of the first/last,<br>
            eg shorten(repeat('1',9999),"nines",9) returns "111111111...111111111 (9,999 nines)". <br>
            If what is specified as "" then there is no suffix, eg shorten("shorten","",1) returns "s...n". 
            <br>
            <br>
            If s is not a string then a sequence of strings is assumed, the "..." and final suffix are inserted as string elements, more suitable
            for say <a href="join.htm">join</a>() or <a href="join_by.htm">join_by</a>(), and giving a default (unflattened) max result length of 42.
         </td>
        </tr>
        <tr>
         <td>
          <b>Implementation:</b>
         </td>
         <td>
            See builtins\ptrim.e (an autoinclude) for details of the actual implementation.
         </td>
        </tr>
       </table>
      </div>
     </stripped>
    </get>
   </these>
  </toc>
 </body>
</head>
