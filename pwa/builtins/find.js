// auto-generated by pwa/p2js, see http://phix.x10.mx
"use strict";
//
// builtins\find.e (an autoinclude)
// ===============
//
//  hll implementation of find()  (replaces builtins\VM\pFind.e)
//
/*without trace*/ //without debug

/*global*/ function find(/*object*/ needle, /*sequence*/ haystack, /*integer*/ start=1) {
    if (start<0) { start += length(haystack)+1; }
    for (let i=start, i$lim=length(haystack); i<=i$lim; i+=1) {
        if (equal(needle,$subse(haystack,i))) { return i; }
    }
    return 0;
}

/*global*/ function rfind(/*object*/ needle, /*sequence*/ haystack, /*integer*/ start=-1) {
    if (start<0) { start += length(haystack)+1; }
    for (let i=start; i>=1; i-=1) {
        if (equal(needle,$subse(haystack,i))) { return i; }
    }
    return 0;
}
