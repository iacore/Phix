"use strict";
// auto-generated by pwa/p2js - part of Phix, see http://phix.x10.mx
//
// builtins/findrepl.e
//
/*global*/ function find_replace(/*object*/ needle, /*sequence*/ haystack, /*object*/ replacement, /*integer*/ max_replacements=0) {
    let /*integer*/ posn = 0;
    while (1) {
        posn = find(needle,haystack,posn+1);
        if (posn===0) { break; }
        haystack = $repe(haystack,posn,replacement);
        max_replacements -= 1;
        if (max_replacements===0) { break; }
    }
    return haystack;
}
