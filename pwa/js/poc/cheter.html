<html style="margin:0px;background-color:white;">
 <head>
  <link href="https://fonts.googleapis.com/icon?family=Material+Icons"
      rel="stylesheet" />
  <title>Cheter | HTML live editor</title>
  <style>
        #savecode { 
          background-color:#e34141;
          color:white;
          position:fixed;
          right:0px;
          top:0px;
          font-family: monospace;
          padding:10px;
          margin:10px;
          border-radius:10px;
          transition:all 0.5s;
          opacity:0;
        }    
        #hoversave:hover #savecode {
          opacity:1;
          display:block;
        }
        body {
          margin:0px;
          background-color:#111;
        }
        textarea {
          border-width:0px;
          line-height: 40px;
          font-family:monospace;
          font-size:15px; 
          width:100%;
          min-height:100%;
          height:auto;background-color:#111;
          color:blue;
          overflow: hidden; 
          outline:none;
        }
        #preview {
          height:50%;
          width:100%;
          overflow:scroll;
          background-color:white;
        }
        .span1 {
          border-width:0px;
          width:100%;
          padding-top:5px;
          line-height: 40px;
          display:inline-block;
          background-color:grey;
          height:100%;
          color:white;
          text-align:center;
          font-family: monospace;
          font-size:15px;
          margin:0px;
          padding:0px;
          border-width:0px;
          border-color:#111;
          padding-top:5px;
        }
        #hoversave {
          color:white;
          padding:15px;
          position:fixed;
          bottom:10px;
          left:10px;
          max-height:25px;
          max-width:25px;
          background-color:#3064d8;
          border-radius:50%;
          box-shadow:5px 5px 5px rgba(1,1,1,0.5);
        }
        #msg_area {
          position:fixed;
          top:10px;
          left:-400px;
          background-color:#111;
          padding:10px;
          color:white;
          font-family:monospace;
          transition:all 2s;
          width:auto;
          overflow:hidden;
        }
  </style>
 </head>
 <body onload="Onload()">
  <div id="preview">
  </div>
  <div style="height:50%;overflow:scroll;background-color:#111;">
   <table style="height:100%;width:100%;border-width: 0px;margin:0px;border-width:0px;padding:0px;">
    <tr>
     <td style="background-color:grey;border-width:0px;">
      <span class="span1" id="span1">1
      </span>
     </td>
     <td style="margin:0px;padding:0px;border-width:0px;border-color:#111;border-width:0px;">
      <textarea wrap="off" id="textarea" onKeyPress="enterpressalert(event, this)">
      </textarea>
     </td>
    </tr>
   </table>
  </div>
  <div style="background-color:#111;padding:10px;padding-bottom:90px;color:white;font-family:monospace;">
   <h1 style="color:white;font-family:monospace;font-size:20px;padding:30px;">Cheter |Live HTML editor. Preview any HTML live online</h1>
   <br>
   <br>quickly see the output of html and even save it in the browser
  </div>
  <div id="hoversave" onclick="saveitonLocal()"><i class="material-icons">&#xE161;</i>
   <div id="savecode">Click this to save your code. Just visit this page again on same device to view your saved code! Remember , not to clear browser data.</div>
  </div>
  <div id="msg_area">
    Unsuccessful in saving
  </div>
  <script>
    const ta = document.getElementById("textarea"),
          ma = document.getElementById("msg_area"),
          pa = document.getElementById("preview"),
          s1 = document.getElementById("span1");

    function Onload() {
      ta.value = localStorage.getItem("htmlcode");
      function update() {
        let txt = ta.value;
        pa.innerHTML = txt;
      }
      setInterval(update, 200);
    }
    function enterpressalert(e, textarea) {
      let code = (e.keyCode ? e.keyCode : e.which),
         lines = textarea.value.match(/\n/g).length + 1;
      if(code == 13 || code == 8 ) { //Enter keycode
        s1.innerHTML= "1";
        for (let numberoflines = 2; numberoflines < lines+1; numberoflines += 1 ) { 
          s1.innerHTML = s1.innerHTML +"<br>"+ numberoflines;
        }
      }
    }
  
    function saveitonLocal(){
      let ;
          
         txt = ta.value;
      if (typeof(Storage) !== "undefined") {
        // Store
        localStorage.setItem("htmlcode",txt );
        // Retrieve
        ta.value = localStorage.getItem("htmlcode");
        ma.innerHTML = "Successfully saved your file"; 
        ma.style.left = "0px";
        function slide() {
          ma.style.left = "-400px";
        }
        setTimeout(slide , 5000);
      } else {
        ma.innerHTML = "unsuccessful in saving your file";  
        ma.style.left = "0px";
      }    
    }
  </script>
 </body>
</html>
