<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <title>JS Bin</title>
<!--
  <link rel="stylesheet" href="./tree.css">
-->
  <link rel="stylesheet" href="../../pGUI.css">
</head>
<body>
  <main></main>
  <br>
  <footer></footer>
  <script src="../../p2js.js"></script>
  <script src="../../pGUI.js"></script>
<!--
  <script src="./tree.js"></script>
-->
  <script>
let tree_nodes = ["sequence",
                  "Figures",                // (branch with 5 children)
//                ["sequence",
//                 "STATE","COLLAPSED"],    //  (works fine, btw)
                  ["sequence",
                    "Other",                // (leaf)
                   ["sequence",
                    "triangle",             // (branch with 3 children)
                    ["sequence",
                     "STATE","COLLAPSED"],
                    ["sequence",
                     "equilateral",
                     ["sequence",
                      "isoceles",           // (branch with 2 children)
                      ["sequence",
                       "STATE","COLLAPSED"],
                      ["sequence",
                       "acute",
                       "obtuse"]],
                     "scalenus"]],
                   ["sequence",
                    "parallelogram",        // (branch with 2 children)
                    ["sequence",
                     "square",
                     "diamond"]],
                   "2D",                    // (leaf)
                   ["sequence",
                    "3D",                   // (branch)
                    ["sequence",            // (not really needed in the browser,
                     "STATE","COLLAPSED"],  // (but it is needed on the desktop.)
                    ["sequence"]],          // (empty)
                   ["sequence",
                    "4D",
                    ["sequence",
                     "STATE","COLLAPSED"],
                    ["sequence",
                     "some",
                     "other",
                     "branch"]]
                  ]
                ];
    const main = document.querySelector('main');
    const tree = IupTreeView(tree_nodes);
    main.appendChild(tree);

    const footer = document.querySelector('footer');

    function my_open_cb(id, msg) {
        footer.innerHTML = id + ' is opened' + msg;
    }   
    tree.open_cb = my_open_cb;

    function my_select_cb(id, msg) {
        footer.innerHTML = id + ' is selected' + msg;
    }   
    tree.select_cb = my_select_cb;

    function my_close_cb(id, msg) {
        footer.innerHTML = id + ' is closed' + msg;
    }   
    tree.close_cb = my_close_cb;
  </script>
</body>
</html>
