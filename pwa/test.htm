<!DOCTYPE html>
<html lang="en" >
 <head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <title>gGraph2.exw</title>
  <link type="text/css" rel="stylesheet" media="screen" href="xpGUI.css" />
 </head>
 <body style="font-family: monospace;">
  <script src="p2js.js"></script>
  <script src="builtins/psqop.js"></script>
  <script src="builtins/ptagset.js"></script>
  <script src="builtins/log10.js"></script>
  <script src="builtins/misc.js"></script>
  <script src="builtins/pmaths.js"></script>
  <script src="builtins/find.js"></script>
  <script src="builtins/psplit.js"></script>
  <script src="builtins/match.js"></script>
  <script src="builtins/pfindany.js"></script>
  <script src="builtins/pcase.js"></script>
  <script src="builtins/pfindall.js"></script>
  <script src="builtins/pdates.js"></script>
  <script src="builtins/pcolumn.js"></script>
  <script src="builtins/timedate.js"></script>
  <script src="xpGUI.js"></script>
  <script>
// auto-generated by pwa/p2js, see http://phix.x10.mx
"use strict";
//
// demo\xpGUI\gGraph2.exw
// ======================
//
/*with javascript_semantics*/ requires("1.0.4");
//include backup\xpGUI.1572.e -- GOOD
//include backup\xpGUI.2650.e -- GOOD
//gUseGTK() --DEV needs "if false then" at end of xpg_lm_disperse_user_sizes()... (which breaks gCheckbox.exw)
const factor = 1e-6, 
      limit = 7000, 
      x = tagset(limit), 
      y = sq_add(sq_mul(sq_power(x,3),factor),.2), 
      dayone = parse_date_string("1/1/1999",["sequence","D/M/YYYY"]), 
      oneday = timedelta(0,1);
function format_as_date(/*integer*/ d) {
    let /*timedate*/ td = adjust_timedate(dayone,oneday*d);
    return format_timedate(td,"DD/MM/YYYY");
}
function get_data(/*gdx*/ /*graph*/anon1) {
    return ["sequence",["sequence",x,y,XPG_RED]];
}
let /*gdx*/ graph = gGraph(get_data);
let /*gdx*/ dlg = gDialog(graph,`temperature/moisture`,"SIZE=640x480");
gSetAttributes(graph,"XTICK=500,XMIN=0,XMAX=7000");
gSetAttributes(graph,"YTICK=5e4,YMIN=0,YMAX=3.5e5");
gSetAttributes(graph,`YTICKFMT="%.1e"`);
gSetAttributes(graph,`XMARGIN=30, XANGLE=90, YMARGIN=45`);
gSetHandler(graph,"XRID",format_as_date);
gShow(dlg);
gMainLoop();
  </script>
 </body>
</html>
